<?php
namespace bundles\frontend\Controllers;

/**
 * Lifestream ActivitiesController
 *
 * @author Nicolas Bonnici
 */
class ActivitiesController extends \Library\Core\Controller
{

    public function __preDispatch()
    {}

    public function __postDispatch()
    {}

    public function readAction()
    {
        if (isset($this->aParams['pk']) && intval($this->aParams['pk']) > 0) {

            // load then update item and send bool to the view
            try {
                $oActivity = new \app\Entities\FeedItem($this->aParams['pk']);
                $oActivity->pk = $oActivity->getId();
            } catch (Exception $oException) {
                $oActivity = null;
            }

            $this->aView['oEntity'] = $oActivity;
        }
        $this->oView->render($this->aView, 'activities/read.tpl');
    }

}

